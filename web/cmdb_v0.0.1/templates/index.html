{% extends "layout.html" %}

{% block body %}
    <table class=entries>

    <tr>
    {% for key in keys %}
        <th>{{ key }}</th>
    {% endfor %}
    </tr>
        
    {% for entry in entries %}

        <tr>
        {% set k=0 %}
        <form action="{{ url_for('update') }}" method=post class=add-entry>
        {% for cell in entry %}
            {% if k > 0 %}
                <td>
                    <input style="border:0px" type=text size=30 name={{ keys[k] }} value="{{ cell }}">
                </td>
            {% else %}
                <td>{{ cell }}</td>
            {% endif %}
            {% set k=k+1 %}
        {% endfor %}
        
        {% if session.logged_in %}
            <!--<td><a href="/edit/{{ entry.id }}">Edit</a>-->
            <input type=submit value=Edit></td>
            <td><a href="/del/{{ entry.id }}">Del</a></td>
        {% endif %}
        </form>
    </tr>
    {% else %}
    <tr><tr>Unbelievable.  No entries here so far</td></tr>
    {% endfor %}
    <tr>
    <form action="{{ url_for('add') }}" method=post class=add-entry>
        {% set k=0 %}
        {% for cell in entries[0] %}
            {% if k > 0 %}
                <td><input style="border:0px" type=text size=30 name={{ keys[k] }} value=""></td>
            {% else %}
                <td><input style="border:0px" type=hidden size=30 name={{ keys[k] }} value="" type="hidden"></td>
            {% endif %}
            {% set k=k+1 %}
        {% endfor %}
        <td><input type=submit value=Add></td>
    </form>
    </tr>
    </table>
  
{% endblock %}